import{_,R as u,r,o as h,c as p,a as e,b as a,w as i,h as v,F as g,d as c}from"./index-df4d67d3.js";const{VITE_APP_URL:m,VITE_APP_PATH:B}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"wweilin",BASE_URL:"/Vue-week7",MODE:"production",DEV:!1,PROD:!0,SSR:!1},b={components:{RouterView:u},methods:{logout(){document.cookie=`hexToken =;expires=${new Date};`,this.$router.push("/login")},checkLogin(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=o,this.$http.post(`${m}/v2/api/user/check`).then(t=>{t.data.success||(alert("請先登入"),this.$router.push("/login"))}).catch(t=>{alert(t.response.data.message),this.$router.push("/login")})}},mounted(){this.checkLogin()}},k={class:"navbar navbar-expand-lg navbar-light bg-light navbar-dark bg-dark fixed-top"},f={class:"container-fluid"},V=e("a",{class:"navbar-brand",href:"#"},"微風廣場",-1),x=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),$={class:"collapse navbar-collapse",id:"navbarSupportedContent"},w={class:"navbar-nav me-auto mb-2 mb-lg-0"},P={class:"nav-item"},T={class:"nav-item"},R={class:"nav-item"},A={class:"container mt-20"};function E(o,t,C,S,D,s){const n=r("router-link"),l=r("RouterView");return h(),p(g,null,[e("nav",k,[e("div",f,[V,x,e("div",$,[e("ul",w,[e("li",P,[a(n,{class:"nav-link",to:"/admin/products"},{default:i(()=>[c("產品")]),_:1})]),e("li",T,[a(n,{class:"nav-link",to:"/admin/orders"},{default:i(()=>[c("訂單")]),_:1})]),e("li",R,[e("a",{href:"#",class:"nav-link",onClick:t[0]||(t[0]=v((...d)=>s.logout&&s.logout(...d),["prevent"]))},"登出")])])])])]),e("div",A,[a(l)])],64)}const I=_(b,[["render",E]]);export{I as default};
